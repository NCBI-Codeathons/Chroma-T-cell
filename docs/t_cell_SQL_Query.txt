DROP TABLE NGS;
DROP TABLE MOLECULARTEST;
DROP TABLE SOURCEPROVIDER;
DROP TABLE CELL;
DROP TABLE PERSON;


CREATE TABLE PERSON(
Person_id VARCHAR(150) PRIMARY KEY,
Gender_CID FLOAT,
person_sourceval VARCHAR(150),
gender_sourceval VARCHAR(150));     


CREATE TABLE CELL(
Person_id varchar(150),
disease_status_sourceval varchar(150),
treatment_sourceval varchar(150),
cell_type_sourceval varchar(150),
FOREIGN KEY (Person_id) REFERENCES PERSON(Person_id) ON DELETE SET NULL);


CREATE TABLE SOURCEPROVIDER(
Person_id VARCHAR(150),
Source_id VARCHAR(150) PRIMARY KEY,
Source_name VARCHAR(150),
Source_val VARCHAR(150),
FOREIGN KEY(Person_id) REFERENCES PERSON(Person_id) ON DELETE SET NULL);


CREATE TABLE MOLECULARTEST(
Source_id VARCHAR(150),
assay_id VARCHAR(150) PRIMARY KEY ,
species_name VARCHAR(150),
species_id VARCHAR(150),
assay_type_sourceval VARCHAR(150),
assay_type_name VARCHAR(150),
assay_type_id VARCHAR(150),
FOREIGN KEY(Source_id) REFERENCES SOURCEPROVIDER(Source_id) ON DELETE SET NULL);


CREATE TABLE NGS(
assay_id VARCHAR(150),
BED VARCHAR(150) PRIMARY KEY,
fastq FLOAT,
BAM FLOAT,
QC FLOAT,
genomics_id VARCHAR(150),
ref_gen_sourceval FLOAT,
seq_dev_sourceval VARCHAR(150),
read_type_sourceval VARCHAR(150),
read_length FLOAT,
seq_type_sourceval VARCHAR(150),
FOREIGN KEY(assay_id) REFERENCES MOLECULARTEST(assay_id) ON DELETE SET NULL);


LOAD DATA LOCAL INFILE '\person_table.csv'
  INTO TABLE PERSON
  FIELDS TERMINATED BY ','
  IGNORE 1 LINES;
  
 Select * from person;
  
LOAD DATA LOCAL INFILE '\specimen_table.csv'
  INTO TABLE CELL
  FIELDS TERMINATED BY ','
  IGNORE 1 LINES;
  
Select * from CELL; 


LOAD DATA LOCAL INFILE '\source_provider_table.csv'
  INTO TABLE SOURCEPROVIDER
  FIELDS TERMINATED BY ','
  IGNORE 1 LINES;
  
Select * from sourceprovider; 
  
LOAD DATA LOCAL INFILE '\molecular_test.csv'
  INTO TABLE MOLECULARTEST
  FIELDS TERMINATED BY ','
  IGNORE 1 LINES;
  
Select * from moleculartest; 
  
LOAD DATA LOCAL INFILE '\data_ngs.csv'
  INTO TABLE NGS
  FIELDS TERMINATED BY ','
  IGNORE 1 LINES;   
  
  Select * from NGS;